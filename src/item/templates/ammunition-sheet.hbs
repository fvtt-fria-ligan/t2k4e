<form class="{{cssClass}} flexcol" autocomplete="off">

  {{!-- Item Sheet Header --}}
  {{> "systems/t2k4e/templates/item/parts/item-header.hbs"}}

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs slanted-tabs flexrow flex-center" data-group="primary">
    <a class="item" data-tab="features">{{localize "T2K4E.ItemSheet.FeaturesTab"}}</a>
    <a class="item" data-tab="description">{{localize "T2K4E.ItemSheet.DescriptionTab"}}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Features Tab --}}
    <div class="tab tab-features" data-group="primary" data-tab="features">
      <div class="grid grid-3col item-features">
        {{!-- <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Damage"}}</label>
          <input type="text" name="data.damage" value="{{data.damage}}" data-dtype="Number"/>
        </div>
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Crit"}}</label>
          <input type="text" name="data.crit" value="{{data.crit}}" data-dtype="Number"/>
        </div>
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Blast"}}</label>
          {{> scoreSelector name="data.blast" selected=data.blast}}
        </div>
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Range"}}</label>
          <input type="text" name="data.range" value="{{data.range}}" data-dtype="Number"/>
        </div> --}}
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Ammo"}}</label>
          <div class="flexrow flex-center">
            <input type="text" name="data.ammo.value" value="{{data.ammo.value}}" data-dtype="Number"/>
            <span class="sep">/</span>
            <input type="text" name="data.ammo.max" value="{{data.ammo.max}}" data-dtype="Number"/>
          </div>
        </div>
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Weight"}}</label>
          <input type="text" name="data.weight" value="{{numberFormat data.weight decimals=2}}" data-dtype="Number"/>
        </div>
        <div class="flexcol">
          <label>{{localize "T2K4E.ItemSheet.Price"}}</label>
          <input type="text" name="data.price" value="{{data.price}}" data-dtype="Number"/>
        </div>
      </div>

      {{!-- Other Parameters --}}
      <div class="features-other flexcol">

        {{!-- Ammo Type --}}
        <div class="form-group">
          <label>{{localize "T2K4E.ItemSheet.AmmoType"}}</label>
          {{!-- <input type="text" name="data.itemType" value="{{data.itemType}}"/> --}}
          <input list="ammo-types" name="data.itemType" value="{{data.itemType}}"/>
          <datalist id="ammo-types">
            {{#each availableAmmoTypes}}
            <option value="{{.}}"></option>
            {{/each}}
          </datalist>
        </div>

        {{!-- Override Options --}}
        <div class="form-group-stacked">
          <label class="checkbox">
            <input type="checkbox" name="data.override" {{checked data.override}}/>
            {{localize "T2K4E.ItemSheet.OverrideOption"}}
          </label>
        </div>
        {{#if data.override}}
        <div class="grid grid-5col item-features">
          <div class="flexcol">
            <label>{{localize "T2K4E.ItemSheet.Damage"}}</label>
            <input type="text" name="data.damage" value="{{data.damage}}" data-dtype="Number"/>
          </div>
          <div class="flexcol">
            <label>{{localize "T2K4E.ItemSheet.Crit"}}</label>
            <input type="text" name="data.crit" value="{{data.crit}}" data-dtype="Number"/>
          </div>
          <div class="flexcol">
            <label>{{localize "T2K4E.ItemSheet.Blast"}}</label>
            {{> scoreSelector name="data.blast" selected=data.blast}}
          </div>
          <div class="flexcol">
            <label>{{localize "T2K4E.ItemSheet.Range"}}</label>
            <input type="text" name="data.range" value="{{data.range}}" data-dtype="Number"/>
          </div>
          <div class="flexcol">
            <label>{{localize "T2K4E.ItemSheet.Armor"}}</label>
            <input type="text" name="data.armorModifier" value="{{numberFormat data.armorModifier sign=true}}" data-dtype="Number"/>
          </div>
        </div>
        {{/if}}

        {{!-- Properties --}}
        <div class="form-group-stacked item-properties">
          {{#each data.props as | prop name |}}
          <label class="checkbox">
            <input type="checkbox" name="data.props.{{name}}" {{checked prop}}/>
            {{localize (concat "T2K4E.ItemPropNames." name)}}
          </label>
          {{/each}}
        </div>

      </div>

      {{!-- Inventory Options --}}
      {{#if inActor}}
      <div class="features-other flexcol">
        <div class="form-group">
          <label class="checkbox">
            <input type="checkbox" name="data.equipped" {{checked data.equipped}}/>
            {{localize "T2K4E.ItemSheet.Equipped"}}
          </label>
        </div>
        <div class="form-group">
          <label class="checkbox">
            <input type="checkbox" name="data.backpack" {{checked data.backpack}}/>
            {{localize "T2K4E.ItemSheet.StoredInBackpack"}}
          </label>
        </div>
      </div>
      {{/if}}

    </div>

    {{!-- Description Tab --}}
    <div class="tab tab-description" data-group="primary" data-tab="description">
      {{> "systems/t2k4e/templates/item/parts/item-description.hbs"}}
    </div>

  </section>

</form>
